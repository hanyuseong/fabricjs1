

    <!DOCTYPE html>
    <html lang="ko">
        <!-- head -->
<head>
    <meta charset="UTF-8" />
    <title>스타벅스 매장DP시스템 - 로그인</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href='data:application/manifest+json,{ "name": "Playbuilder", "short_name": "Playbuilder", "icons": [{ "src": "/common/front/images/icon.png", "sizes": "192x192", "type": "image/png" } ], "description": "Playbuilder"}' />

    <script type="text/javascript" src="/common/public/js/vendor/jquery-3.6.0.min.js"></script>
    <link type="text/css" rel="stylesheet" href="/common/front/css/css.css?v=2022110410" />
    <script defer type="text/javascript" src="/common/front/js/ui.js?v=2022110410" charset="utf-8"></script>
    <script type="text/javascript" src="/common/public/js/common.js?v=2022110410"></script>
    <link type="text/css" rel="stylesheet" href="/common/public/css/common.css?v=2022110410" />
</head>        <!-- /head -->
        <meta name="referrer" content="no-referrer"/>

        <body>
            <!-- content -->
            <section class="all_wrapper login">

                <!-- header -->

                <!-- /header -->

    <form id="frm" name="frm" action="/login/action" method="POST">
        <input type="hidden" id="isError" name="isError" value=""/>
        <input type="hidden" id="exceptionMsg" name="exceptionMsg" value=""/>
        <input type="hidden" id="loginFormType" name="loginFormType" value="ADMIN"/>
        <div class="login_wrap">
            <div class="logo_img"><img src="/common/front/images/comm_img_logo.png" alt="스타벅스 로고"></div>
            <h1 class="txt1">Starbucks Playbuilder Tool</h1>
            <p class="txt2">매장 운영에 최적화된 파트너 근무 포지션을 제시합니다.</p>

            <div class="login_input_wrapper">
                <!-- 사용자 선택 -->
                <div class="usertype_wrap">
                    <div class="radio">
                        <label for="login_usertype_a1">매장 파트너</label>
                        <input type="radio" value="매장 매니저" id="login_usertype_a1" name="login_usertype" checked>
                    </div>
                    <div class="radio">
                        <label for="login_usertype_a2">DM/지원센터</label>
                        <input type="radio" value="관리자" id="login_usertype_a2" name="login_usertype">
                    </div>
                </div>
                <!-- //사용자 선택 -->

                <div class="usertype_contents">
                    <!-- 매장 매니저 로그인 박스 -->
                    <div class="usertype_cont login_usertype_a1">
                        <div class="input_sty1">
                            <label for="storeCd">매장 코드</label>
                            <input name="storeCd" type="text" placeholder="매장 코드" id="storeCd" value="">
                        </div>
                        <a class="login_btn" data-type="partner">로그인</a>
                    </div>
                    <!-- //매장 매니저 로그인 박스 -->

                    <!-- 관리자 로그인 박스 -->
                    <div class="usertype_cont login_usertype_a2">
                        <div class="input_sty1">
                            <label for="userID">블라썸 아이디</label>
                            <input name="userID" type="text" placeholder="블라썸 아이디" id="userID" value="">
                        </div>
                        <div class="input_sty1">
                            <label for="password">비밀번호</label>
                            <input name="password" type="password" placeholder="비밀번호" id="password" value="">
                        </div>
                        <a class="login_btn" data-type="admin">로그인</a>
                        <div class="checkbox_wrap">
                            <div class="checkbox">
                                <label for="star_chk_a1">아이디 저장</label>
                                <input type="checkbox" value="" id="star_chk_a1">
                            </div>
                        </div>
                    </div>
                    <!-- 관리자 로그인 박스 -->
                </div>
            </div>

        </div>
    </form>

    <script>
        const LOGIN_TYPE_PARTNER = 'PARTNER';
        const LOGIN_TYPE_ADMIN = 'ADMIN';
        $(document).ready(function() {
            //로그인 사용자별 로그인 박스 보이기
            user_loginBox('.login_input_wrapper');

            if ($("#loginFormType").val() === LOGIN_TYPE_ADMIN) {
                $('#login_usertype_a2').click();
            } else {
                $('#login_usertype_a1').click();
            }

            $(document).on('click', '#login_usertype_a1', function() {
                $('#loginFormType').val(LOGIN_TYPE_PARTNER);
            });
            $(document).on('click', '#login_usertype_a2', function() {
                $('#loginFormType').val(LOGIN_TYPE_ADMIN);
            });

            if (!$('#loginFormType').val()) {
                if ($('#login_usertype_a1').is(':checked')) {   // 파트너 로그인
                    $('#loginFormType').val(LOGIN_TYPE_PARTNER);
                } else {    // 관리자 로그인
                    $('#loginFormType').val(LOGIN_TYPE_ADMIN);
                }
            }

            $(document).on('keypress', function(e) {
                if(e.keyCode == '13') {
                    if($('.layerPop_container').hasClass('on')) {
                        $('.btn_popClose').click();
                    }else {
                        $('.login_btn').click();
                    }
                }
            });

            $(document).on("click", '.login_btn', function(e){
                let type = $('#loginFormType').val();
                if (type === LOGIN_TYPE_PARTNER) {
                    $("#userID").val("");
                    $("#password").val("");
                } else {
                    $("#storeCd").val("");
                }

                if ($('#ssoUseYn').val() === 'N' || type === LOGIN_TYPE_PARTNER) {
                    $('#frm').attr('action', '/login/action');
                }

                // 유효성 체크
                if (type === LOGIN_TYPE_PARTNER) {  // 파트너일경우
                    const storeCd = $('#storeCd').val();
                    const regex = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|\d| |]+$/;
                    if (!regex.test(storeCd)) {
                        $('.ly_lypop_common .layerpop_txt1').html('특수 문자는 입력할 수 없습니다.');
                        comm_Layerpop('.ly_lypop_common');
                        return;
                    }

                    if (!storeCd) {
                        comm_Layerpop('.ly_lypop_case1_1'); // 매장코드를 입력해주세요.
                        return;
                    }

                    // 매장코드 자리수 체크
                    if (storeCd.length !== 4) {
                        $('.ly_lypop_common .layerpop_txt1').html('매장코드는 4자리여야 합니다.');
                        comm_Layerpop('.ly_lypop_common');
                        return;
                    }

                } else {    // 관리자일 경우
                    const userID = $('#userID').val();
                    const password = $('#password').val();
                    const regex = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|\d| |]+$/;
                    if (!regex.test(userID)) {
                        $('.ly_lypop_common .layerpop_txt1').html('특수 문자는 입력할 수 없습니다.');
                        comm_Layerpop('.ly_lypop_common');
                        return;
                    }

                    if (!userID) {
                        comm_Layerpop('.ly_lypop_case2_1'); // 아이디를 입력해주세요.
                        return;
                    }

                    // 블라썸 아이디 자리수 체크 6 or 8자리만 허용
                    if (userID.length !== 6 && userID.length !== 8) {
                        $('.ly_lypop_common .layerpop_txt1').html('블라썸 아이디는<br/>6 또는 8자리여야 합니다.');
                        comm_Layerpop('.ly_lypop_common');
                        return;
                    }
                    
                    if (!password) {
                        comm_Layerpop('.ly_lypop_case2_2'); // 비밀번호를 입력해주세요.
                        return;
                    }
                }

                let frm = $("#frm");
                frm.submit();
            });

            if ($('#isError').val() === 'Y') {
                comm_Layerpop('.ly_lypop_'.concat($('#exceptionMsg').val()));
                $('#isError').val("");
            }

            setChromeBrowserVersionUpgradeGuide();
        });
    </script>

                <!-- footer -->
                <!-- /footer -->

                <!-- popup -->
<!---------- 레이어팝업 영역 ---------->
<div class="layerPop_container">
    <div class="dimmed"></div>

    <div class="layerPop_wrap">
        <!-- 공용 -->
        <div class="layerpop_contents ly_lypop_common">
            <span class="layerpop_txt1"></span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //공용 -->

        <!-- 매장코드 미입력 시 -->
        <div class="layerpop_contents ly_lypop_case1_1">
            <span class="layerpop_txt1">매장코드를 입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //매장코드 미입력 시 -->

        <!-- 매장코드 아이피 불일치 시 -->
        <div class="layerpop_contents ly_lypop_case1_2_0">
            <span class="layerpop_txt1">매장 IP 정보가 일지하지 않습니다.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //매장코드 오입력 시 -->

        <!-- 매장코드 오입력 시 -->
        <div class="layerpop_contents ly_lypop_case1_2">
            <span class="layerpop_txt1">등록되지 않은 매장코드 입니다.<br>확인 후 재입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //매장코드 오입력 시 -->

        <!-- 아이디 미입력 시 -->
        <div class="layerpop_contents ly_lypop_case2_1">
            <span class="layerpop_txt1">아이디를 입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //아이디 미입력 시 -->

        <!-- 비밀번호 미입력 시 -->
        <div class="layerpop_contents ly_lypop_case2_2">
            <span class="layerpop_txt1">비밀번호를 입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //비밀번호 미입력 시 -->

        <!-- 아이디 오입력 시 -->
        <div class="layerpop_contents ly_lypop_case2_3">
            <span class="layerpop_txt1">등록되지 않은 아이디입니다.<br>확인 후 재입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //아이디 오입력 시 -->

        <!-- 비밀번호 오입력 시 -->
        <div class="layerpop_contents ly_lypop_case2_4">
            <span class="layerpop_txt1">아이디/비밀번호가 일치하지 않습니다.<br>확인 후 재입력해주세요.</span>
            <div class="btn_wrap">
                <button type="button" class="comm_btn_type4 btn_popClose">확인</button>
            </div>
        </div>
        <!-- //비밀번호 오입력 시 -->
    </div>

</div>

<!---------- //레이어팝업 영역 ---------->                <!-- /popup -->

            </section>
        </body>
    </html>
